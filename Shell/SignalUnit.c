/*******************************************************Copyright*********************************************************
**                                            北京博创兴盛机器人技术有限公司
**                                                       研发部
**                                               http://robot.up-tech.com
**
**-------------------------------------------------------文件信息---------------------------------------------------------
** 文件名称:			SignalUnit.c
** 最后修订日期:		2009-10-22
** 最后版本:			1.0
** 描述:				信号信息传递单元，用于通过控制接口获取和输出数据。
**
**------------------------------------------------------------------------------------------------------------------------
** 创建人:			律晔
** 创建日期:			2009-10-22
** 版本:				1.0
** 描述:				实现寄存器器组操作，实现按宏地址写入，读出，成组写入，读出。
**
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
*************************************************************************************************************************/
#include "Shell/SignalUnit.h"


/*************************************************************************************************************************
** 函数名称:			SetSignalRegisterByte
**
** 函数描述:			按字节设置信号寄存器
**                      
**					                 
** 输入变量:			uint8 address; uint8 val;
** 返回值:			uint8;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			ClrRegBit;
**
** 创建人:			律晔
** 创建日期:			2009-10-22
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**------------------------------------------------------------------------------------------------------------------------
*************************************************************************************************************************/
static uint8 SetSignalRegisterByte(uint8 address, uint8 val)
{
	if (sizeof(signal_control.data_register) > address)
	{
		signal_control.data_register[address] = val;
	}
	else
	{
		return FALSE;
	}

	return TRUE;
}


/*************************************************************************************************************************
** 函数名称:			GetSignalRegisterByte
**
** 函数描述:			按字节读取信号寄存器
**
**
** 输入变量:			uint8 address; uint8* val;
** 返回值:			uint8;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			ClrRegBit;
**
** 创建人:			律晔
** 创建日期:			2009-10-22
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**------------------------------------------------------------------------------------------------------------------------
*************************************************************************************************************************/
static uint8 GetSignalRegisterByte(uint8 address, uint8* val)
{
	if (sizeof(signal_control.data_register) > address)
	{
		*val = signal_control.data_register[address];
	}
	else
	{
		return FALSE;
	}

	return TRUE;
}


/*************************************************************************************************************************
** 函数名称:			InitSignalRegister
**
** 函数描述:			信号寄存器
**
**
** 输入变量:			void;
** 返回值:			void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			ClrRegBit;
**
** 创建人:			律晔
** 创建日期:			2009-10-22
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**------------------------------------------------------------------------------------------------------------------------
*************************************************************************************************************************/
static void InitSignalRegister(void)
{
	uint8 count = 0;

	for (count = 0; count < sizeof(signal_control.data_register); count++)
	{
		signal_control.data_register[count] = 0;
	}

	signal_control.pSetByte = SetSignalRegisterByte;
	signal_control.pGetByte = GetSignalRegisterByte;
}
/*************************************************************************************************************************
													控制结构体声明
*************************************************************************************************************************/
SIGNAL_CONTROL_STRUCT signal_control =
{
		.pInit = InitSignalRegister,
};

/*************************************************************************************************************************
**                                                      文件结束
*************************************************************************************************************************/
